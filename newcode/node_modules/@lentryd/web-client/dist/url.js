"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.joinURL = joinURL;
exports.isAbsolute = isAbsolute;
exports.encodeQuery = encodeQuery;
const path_1 = require("path");
/**
 * Join the path to the origin
 * @param origin Origin
 * @param paths Path to the required resource
 * @returns Full path to the resource
 */
function joinURL(origin, ...paths) {
    return new URL(path_1.posix.join(...paths), origin).href;
}
const absoluteRegex = new RegExp("^(?:[a-z]+:)?//", "i");
/**
 * Check if a path is absolute
 * @param path Path to check
 * @returns Is the path absolute or not
 */
function isAbsolute(path) {
    return absoluteRegex.test(path);
}
/**
 * Encodes an object into a query string
 * @param params Object to encode
 * @returns Encoded query string
 */
function encodeQuery(params) {
    // If the object is not passed, return an empty string
    if (!params)
        return "";
    // Get the keys of the object
    let paramsKeys = Object.keys(params);
    // If there are no keys, return an empty string
    if (paramsKeys.length === 0)
        return "";
    // Filter out keys with undefined values
    paramsKeys = paramsKeys.filter((key) => params[key] !== undefined);
    // If there are no keys, return an empty string
    if (paramsKeys.length === 0)
        return "";
    // Encode the object into a query string
    let query = paramsKeys
        .map((key) => `${key}=${encodeURIComponent(params[key])}`)
        .join("&");
    // Return the query string
    return `?${query}`;
}
//# sourceMappingURL=url.js.map